<div class="form__wrapper pb-6">

  <div class="card">
    <div class="card flex justify-between py-2 px-4">
      <h4 class="h4"><%= I18n.t("title", scope: "decidim.spam_signal.admin.generals") %></h4>
    </div>
    <div class="row column pt-4">
      <%= form.text_field :name, required: true %>
      <div class="pt-4">
        <label> Triggered by </label>
        <div class="bg-[#E5E7EB] px-4 py-2 rounded">
          <%= I18n.t("decidim.spam_signal.admin.flow.#{@trigger_type.demodulize.underscore}.title") %></h4>
        </div>
      </div
    </div>
  </div>
</div>

<%= render "condition_form" %>
<% if form.object.errors.any? { |error| error.attribute == :conditions } %>
  <% form.object.errors.full_messages_for(:conditions).each do |message| %>
    <small class="form-error is-visible">
      <%= message %>
    </small>
  <% end %>
<% end %>

<div class="card py-2">
  <div class="row column">
    <% if form.object.action_settings.any? %>
      <h4 class="h4"><%= I18n.t("actions", scope: "decidim.spam_signal.admin.flows.form") %></h4>
  </div>
</div>
<div class="form__wrapper pb-6"">
  <div class="card pt-4">
    <div class="row column">
      <% form.object.action_settings.each do |action_form| %>
        <%= form.fields_for :action_settings, action_form do |field_for_actions| %>
          <%= render "action_form", f: field_for_actions %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
    <% end %>

